<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <apiVersion>56.0</apiVersion>
    <assignments>
        <name>Add_Pat_to_Update</name>
        <label>Add Pat to Update</label>
        <locationX>1034</locationX>
        <locationY>320</locationY>
        <assignmentItems>
            <assignToReference>UpdatedPatients</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>PatientVar</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_Post_Codes</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Add_to_All_Egg_Cohort</name>
        <label>Add to All Egg Cohort</label>
        <locationX>520</locationX>
        <locationY>72</locationY>
        <assignmentItems>
            <assignToReference>AllEggCohorts</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>EggCohort</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_Egg_Cohorts</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Add_to_Count</name>
        <label>Add to Count</label>
        <locationX>983</locationX>
        <locationY>1095</locationY>
        <assignmentItems>
            <assignToReference>RecordCount</assignToReference>
            <operator>Add</operator>
            <value>
                <numberValue>1.0</numberValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Record_COunt_More_than_900_0</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Add_to_Update</name>
        <label>Add to Update</label>
        <locationX>486</locationX>
        <locationY>1488</locationY>
        <assignmentItems>
            <assignToReference>UpdatedPatients</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Loop_Patients_Email</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_Patients_Email</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>All_to_All_Pat</name>
        <label>All to All Pat</label>
        <locationX>1376</locationX>
        <locationY>580</locationY>
        <assignmentItems>
            <assignToReference>UpdatedPatients</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Loop_Patients_for_DOB_Update</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Record_COunt_More_than_900</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Current_ID</name>
        <label>Assign Current ID</label>
        <locationX>1133</locationX>
        <locationY>1209</locationY>
        <assignmentItems>
            <assignToReference>CurrentID</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Patients_Email.Patient_ID__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Filter_Pat</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Email</name>
        <label>Assign Email</label>
        <locationX>749</locationX>
        <locationY>1457</locationY>
        <assignmentItems>
            <assignToReference>Loop_Patients_Email.Email</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>get_Import.EmailAddress__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Add_to_Update</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Pat</name>
        <label>Assign Pat</label>
        <locationX>884</locationX>
        <locationY>117</locationY>
        <assignmentItems>
            <assignToReference>PatientVar</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Post_Codes</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_PostCode</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_to_All</name>
        <label>Assign to All</label>
        <locationX>64</locationX>
        <locationY>601</locationY>
        <assignmentItems>
            <assignToReference>AllEmbryosVar</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>EmbryoVar</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Count</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Var</name>
        <label>Assign Var</label>
        <locationX>69</locationX>
        <locationY>810</locationY>
        <assignmentItems>
            <assignToReference>EmbryoVar.Freeze_Scientist__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Cycle_Event.Scientist__r.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>EmbryoVar.Id</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Batches.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assign_to_All</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Count</name>
        <label>Count</label>
        <locationX>192</locationX>
        <locationY>605</locationY>
        <assignmentItems>
            <assignToReference>RecordCount</assignToReference>
            <operator>Add</operator>
            <value>
                <numberValue>1.0</numberValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Count_99</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Count_Pats</name>
        <label>Count Pats</label>
        <locationX>492</locationX>
        <locationY>1013</locationY>
        <assignmentItems>
            <assignToReference>CurrentID</assignToReference>
            <operator>AssignCount</operator>
            <value>
                <elementReference>Get_All_Patients_Email</elementReference>
            </value>
        </assignmentItems>
    </assignments>
    <assignments>
        <name>Edit_Egg_Cohort</name>
        <label>Edit Egg Cohort</label>
        <locationX>349</locationX>
        <locationY>50</locationY>
        <assignmentItems>
            <assignToReference>EggCohort.Storage_Date__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Egg.Freeze_Date__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>EggCohort.Storage_Location__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Egg.Storage_Location__r.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>EggCohort.Id</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Egg_Cohorts.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Add_to_All_Egg_Cohort</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Update_Pat_DOB</name>
        <label>Update Pat DOB</label>
        <locationX>1205</locationX>
        <locationY>659</locationY>
        <assignmentItems>
            <assignToReference>Loop_Patients_for_DOB_Update.Birthdate_Searchable__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>BirthDateSearch</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RecordCount</assignToReference>
            <operator>Add</operator>
            <value>
                <numberValue>1.0</numberValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>All_to_All_Pat</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Update_PostCode</name>
        <label>Update PostCode</label>
        <locationX>1034</locationX>
        <locationY>119</locationY>
        <assignmentItems>
            <assignToReference>PatientVar.MailingPostalCode</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>PostcodeFormula</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Add_Pat_to_Update</targetReference>
        </connector>
    </assignments>
    <collectionProcessors>
        <name>Filter_Pat</name>
        <elementSubtype>FilterCollectionProcessor</elementSubtype>
        <label>Filter Pat</label>
        <locationX>1209</locationX>
        <locationY>1531</locationY>
        <assignNextValueToReference>currentItem_Filter_Pat_0</assignNextValueToReference>
        <collectionProcessorType>FilterCollectionProcessor</collectionProcessorType>
        <collectionReference>Get_All_Imports</collectionReference>
        <conditionLogic>and</conditionLogic>
        <conditions>
            <leftValueReference>currentItem_Filter_Pat_0.AH_Id_Fk__c</leftValueReference>
            <operator>EqualTo</operator>
            <rightValue>
                <elementReference>CurrentID</elementReference>
            </rightValue>
        </conditions>
        <connector>
            <targetReference>Loop_Filtered_Collection</targetReference>
        </connector>
    </collectionProcessors>
    <decisions>
        <name>Count_99</name>
        <label>Count = 99</label>
        <locationX>312</locationX>
        <locationY>614</locationY>
        <defaultConnector>
            <targetReference>Loop_Batches</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yes</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>RecordCount</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <numberValue>99.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Embryos</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>Record_COunt_More_than_900</name>
        <label>Record COunt More than 900</label>
        <locationX>1243</locationX>
        <locationY>533</locationY>
        <defaultConnector>
            <targetReference>Loop_Patients_for_DOB_Update</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>X498</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>RecordCount</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>498.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_All_Patinet</targetReference>
            </connector>
            <label>498</label>
        </rules>
    </decisions>
    <decisions>
        <name>Record_COunt_More_than_900_0</name>
        <label>Record COunt More than 900</label>
        <locationX>866</locationX>
        <locationY>998</locationY>
        <defaultConnector>
            <targetReference>Line_Items</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>X498_0</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>RecordCount</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>48.0</numberValue>
                </rightValue>
            </conditions>
            <label>498</label>
        </rules>
    </decisions>
    <description>For use by devs only.</description>
    <environments>Default</environments>
    <formulas>
        <name>BirthDateSearch</name>
        <dataType>String</dataType>
        <expression>LPAD(TEXT(DAY({!Loop_Patients_for_DOB_Update.Birthdate})), 2, &apos;0&apos;) &amp; &quot;/&quot; &amp;
LPAD(TEXT(MONTH({!Loop_Patients_for_DOB_Update.Birthdate})), 2, &apos;0&apos;) &amp; &quot;/&quot; &amp;
TEXT(YEAR({!Loop_Patients_for_DOB_Update.Birthdate}))</expression>
    </formulas>
    <formulas>
        <name>Both</name>
        <dataType>String</dataType>
        <expression>LEFT({!First_Loop.FirstName}, 2)&amp;&quot; &quot;&amp;LEFT({!First_Loop.LastName}, 2)</expression>
    </formulas>
    <formulas>
        <name>Fist2</name>
        <dataType>String</dataType>
        <expression>LEFT({!First_Loop.FirstName}, 2)</expression>
    </formulas>
    <formulas>
        <name>Last2</name>
        <dataType>String</dataType>
        <expression>LEFT({!First_Loop.LastName}, 2)</expression>
    </formulas>
    <formulas>
        <name>PostcodeFormula</name>
        <dataType>String</dataType>
        <expression>SUBSTITUTE({!Loop_Post_Codes.MailingPostalCode}, &quot;,&quot;, &quot;&quot;)</expression>
    </formulas>
    <interviewLabel>Developer Data Overwrite and Testing Flow {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Developer Data Overwrite and Testing Flow</label>
    <loops>
        <name>First_Loop</name>
        <label>First Loop</label>
        <locationX>1387</locationX>
        <locationY>1135</locationY>
        <collectionReference>Get_All_Patinets</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Update_Name_Fields</targetReference>
        </nextValueConnector>
    </loops>
    <loops>
        <name>Line_Items</name>
        <label>Line Items</label>
        <locationX>1041</locationX>
        <locationY>807</locationY>
        <collectionReference>Get_Invoice_Line_Items</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Get_Servcie_Item</targetReference>
        </nextValueConnector>
    </loops>
    <loops>
        <name>Loop_Batches</name>
        <label>Loop Batches</label>
        <locationX>430</locationX>
        <locationY>726</locationY>
        <collectionReference>Get_Frozen_Embryos</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Get_Cycle_Event</targetReference>
        </nextValueConnector>
    </loops>
    <loops>
        <name>Loop_Egg_Cohorts</name>
        <label>Loop Egg Cohorts</label>
        <locationX>613</locationX>
        <locationY>294</locationY>
        <collectionReference>Get_Egg_Cohorts</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Get_Egg</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Update_All_Egg_Cohorts</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Loop_Egg_Events</name>
        <label>Loop Egg Events</label>
        <locationX>715</locationX>
        <locationY>574</locationY>
        <collectionReference>Get_Egg_events</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Update_Egg_Cycle_Event</targetReference>
        </nextValueConnector>
    </loops>
    <loops>
        <name>Loop_Filtered_Collection</name>
        <label>Loop Filtered Collection</label>
        <locationX>941</locationX>
        <locationY>1532</locationY>
        <collectionReference>Filter_Pat</collectionReference>
        <iterationOrder>Asc</iterationOrder>
    </loops>
    <loops>
        <name>Loop_Patients_Email</name>
        <label>Loop Patients Email</label>
        <locationX>661</locationX>
        <locationY>1219</locationY>
        <collectionReference>Get_All_Patients_Email</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>get_Import</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Update_Pat</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Loop_Patients_for_DOB_Update</name>
        <label>Loop Patients for DOB Update</label>
        <locationX>1128</locationX>
        <locationY>534</locationY>
        <collectionReference>Get_All_Patients</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Update_Pat_DOB</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Update_All_Patinet</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Loop_Post_Codes</name>
        <label>Loop Post Codes</label>
        <locationX>879</locationX>
        <locationY>323</locationY>
        <collectionReference>Get_all_Patients_with_Wrong_Address</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Assign_Pat</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Update_Pat_form</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Servcie_Items</name>
        <label>Servcie Items</label>
        <locationX>1463</locationX>
        <locationY>730</locationY>
        <collectionReference>Get_Service_Items</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Update_Item</targetReference>
        </nextValueConnector>
    </loops>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>FREE_FORM_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>Flow</processType>
    <recordDeletes>
        <name>Delete_Records</name>
        <label>Delete Records</label>
        <locationX>1278</locationX>
        <locationY>746</locationY>
        <inputReference>Get_All_Patinets</inputReference>
    </recordDeletes>
    <recordLookups>
        <name>Get_All_Imports</name>
        <label>Get All Imports</label>
        <locationX>667</locationX>
        <locationY>1047</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Loop_Patients_Email</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Surname__c</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>EmailAddress__c</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Imported_Patients__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_All_Patients</name>
        <label>Get All Patients</label>
        <locationX>1025</locationX>
        <locationY>682</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Loop_Patients_for_DOB_Update</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Birthdate</field>
            <operator>GreaterThanOrEqualTo</operator>
            <value>
                <dateValue>1991-03-23</dateValue>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Contact</object>
        <sortField>Birthdate</sortField>
        <sortOrder>Asc</sortOrder>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_All_Patients_Email</name>
        <label>Get All Patients Email</label>
        <locationX>670</locationX>
        <locationY>919</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_All_Imports</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Email</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Patient_ID__c</field>
            <operator>GreaterThanOrEqualTo</operator>
            <value>
                <numberValue>50000.0</numberValue>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Contact</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_all_Patients_with_Wrong_Address</name>
        <label>Get all Patients with Wrong Address</label>
        <locationX>879</locationX>
        <locationY>500</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Loop_Post_Codes</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>MailingPostalCode</field>
            <operator>Contains</operator>
            <value>
                <stringValue>,</stringValue>
            </value>
        </filters>
        <filters>
            <field>Birthdate</field>
            <operator>GreaterThanOrEqualTo</operator>
            <value>
                <dateValue>1985-01-01</dateValue>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Contact</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_All_Patinets</name>
        <label>Get All Patinets</label>
        <locationX>1393</locationX>
        <locationY>1012</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>First_Loop</targetReference>
        </connector>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Contact</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Cycle_Event</name>
        <label>Get Cycle Event</label>
        <locationX>257</locationX>
        <locationY>790</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Assign_Var</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Cycle__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Loop_Batches.Cycle_Created_In__r.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>RecordTypeId</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>0125g000000ae9xAAA</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Cycle_Event__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Egg</name>
        <label>Get Egg</label>
        <locationX>351</locationX>
        <locationY>180</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Edit_Egg_Cohort</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Egg_Cohort__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Loop_Egg_Cohorts.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>Fate__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Frozen</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Egg__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Egg_Cohorts</name>
        <label>Get Egg Cohorts</label>
        <locationX>623</locationX>
        <locationY>418</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Loop_Egg_Cohorts</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Total_Currently_Frozen__c</field>
            <operator>GreaterThan</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </filters>
        <filters>
            <field>Storage_Date__c</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Egg_Cohort__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Egg_events</name>
        <label>Get Egg events</label>
        <locationX>611</locationX>
        <locationY>574</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Loop_Egg_Events</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Cycle__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>a01J1000001yo4ZIAQ</stringValue>
            </value>
        </filters>
        <filters>
            <field>Grade__c</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Egg_Cycle_Event__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Frozen_Embryos</name>
        <label>Get Frozen Embryos</label>
        <locationX>574</locationX>
        <locationY>728</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Loop_Batches</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Cycle_Created_In__c</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Fate__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Frozen</stringValue>
            </value>
        </filters>
        <filters>
            <field>Freeze_Scientist__c</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Embryos__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Frozen_Mebryos</name>
        <label>Get Frozen Mebryos</label>
        <locationX>488</locationX>
        <locationY>879</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Count_Frozen__c</field>
            <operator>GreaterThan</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </filters>
        <filters>
            <field>Storage_Date__c</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Embryo_Batch__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>get_Import</name>
        <label>get Import</label>
        <locationX>812</locationX>
        <locationY>1277</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Assign_Email</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>AH_Id_Fk__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Loop_Patients_Email.Patient_ID__c</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Imported_Patients__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Invoice_Line_Items</name>
        <label>Get Invoice Line Items</label>
        <locationX>869</locationX>
        <locationY>823</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Line_Items</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Linked_Service_Item__c</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Invoice_Line_Item__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Servcie_Item</name>
        <label>Get Servcie Item</label>
        <locationX>1127</locationX>
        <locationY>901</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Update_Loop_Item</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Name</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Line_Items.Name</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Service_Item__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Service_Items</name>
        <label>Get Service Items</label>
        <locationX>1392</locationX>
        <locationY>893</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Servcie_Items</targetReference>
        </connector>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Service_Item__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordUpdates>
        <name>Update_All_Egg_Cohorts</name>
        <label>Update All Egg Cohorts</label>
        <locationX>630</locationX>
        <locationY>56</locationY>
        <inputReference>AllEggCohorts</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_All_Patinet</name>
        <label>Update All Patinet</label>
        <locationX>1198</locationX>
        <locationY>312</locationY>
        <inputReference>UpdatedPatients</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Cycles</name>
        <label>Update Cycles</label>
        <locationX>753</locationX>
        <locationY>895</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Status__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Finalising Admission</stringValue>
            </value>
        </filters>
        <filters>
            <field>Claim_Status__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Claim Completed</stringValue>
            </value>
        </filters>
        <inputAssignments>
            <field>Claim_Status__c</field>
        </inputAssignments>
        <object>Cycle__c</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Egg_Cycle_Event</name>
        <label>Update Egg Cycle Event</label>
        <locationX>789</locationX>
        <locationY>543</locationY>
        <connector>
            <targetReference>Loop_Egg_Events</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Loop_Egg_Events.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Cycle__c</field>
            <value>
                <stringValue>a01J100000219SnIAI</stringValue>
            </value>
        </inputAssignments>
        <object>Egg_Cycle_Event__c</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Embryos</name>
        <label>Update Embryos</label>
        <locationX>422</locationX>
        <locationY>526</locationY>
        <inputReference>AllEmbryosVar</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Item</name>
        <label>Update Item</label>
        <locationX>1513</locationX>
        <locationY>844</locationY>
        <connector>
            <targetReference>Servcie_Items</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Servcie_Items.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Clinic_Name_for_Sharing__c</field>
            <value>
                <elementReference>Servcie_Items.Related_Clinic__r.Name</elementReference>
            </value>
        </inputAssignments>
        <object>Service_Item__c</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Loop_Item</name>
        <label>Update Loop Item</label>
        <locationX>1129</locationX>
        <locationY>1098</locationY>
        <connector>
            <targetReference>Add_to_Count</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Line_Items.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Linked_Service_Item__c</field>
            <value>
                <elementReference>Get_Servcie_Item.Id</elementReference>
            </value>
        </inputAssignments>
        <object>Invoice_Line_Item__c</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Name_Fields</name>
        <label>Update Name Fields</label>
        <locationX>1455</locationX>
        <locationY>1354</locationY>
        <connector>
            <targetReference>First_Loop</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>First_Loop.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Searchable_First_2_and_Last_2_Name__c</field>
            <value>
                <elementReference>Both</elementReference>
            </value>
        </inputAssignments>
        <object>Contact</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Pat</name>
        <label>Update Pat</label>
        <locationX>933</locationX>
        <locationY>1166</locationY>
        <inputReference>UpdatedPatients</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Pat_form</name>
        <label>Update Pat</label>
        <locationX>735</locationX>
        <locationY>336</locationY>
        <inputReference>UpdatedPatients</inputReference>
    </recordUpdates>
    <start>
        <locationX>694</locationX>
        <locationY>688</locationY>
        <connector>
            <targetReference>Get_Egg_events</targetReference>
        </connector>
    </start>
    <status>Draft</status>
    <variables>
        <name>AllEggCohorts</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Egg_Cohort__c</objectType>
    </variables>
    <variables>
        <name>AllEmbryoBatches</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Embryo_Batch__c</objectType>
    </variables>
    <variables>
        <name>AllEmbryosVar</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Embryos__c</objectType>
    </variables>
    <variables>
        <name>CurrentID</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
    </variables>
    <variables>
        <name>currentItem_Filter_Pat_0</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
        <objectType>Imported_Patients__c</objectType>
    </variables>
    <variables>
        <name>currentItemFromSourceCollection</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Contact</objectType>
    </variables>
    <variables>
        <name>EggCohort</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Egg_Cohort__c</objectType>
    </variables>
    <variables>
        <name>EmbryoBatchVar</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Embryo_Batch__c</objectType>
    </variables>
    <variables>
        <name>EmbryoVar</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Embryos__c</objectType>
    </variables>
    <variables>
        <name>PatientIDs</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>PatientVar</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Contact</objectType>
    </variables>
    <variables>
        <name>PatinetIDNumber</name>
        <dataType>Number</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>2</scale>
    </variables>
    <variables>
        <name>RecordCount</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
    </variables>
    <variables>
        <name>UpdatedPatients</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Contact</objectType>
    </variables>
    <variables>
        <name>UpdatePatinets</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Contact</objectType>
    </variables>
</Flow>
